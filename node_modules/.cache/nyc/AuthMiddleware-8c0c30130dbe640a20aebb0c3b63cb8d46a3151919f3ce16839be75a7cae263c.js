function cov_1uy5fkh5f7(){var path="C:\\Users\\Manu\\IdeaProjects\\TFG\\server\\middlewares\\AuthMiddleware.js";var hash="b08b2b0f550e09ad6100c22d4eb31fc5fb02e4a5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Manu\\IdeaProjects\\TFG\\server\\middlewares\\AuthMiddleware.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:42}},"1":{start:{line:3,column:22},end:{line:19,column:1}},"2":{start:{line:4,column:24},end:{line:4,column:49}},"3":{start:{line:6,column:4},end:{line:18,column:5}},"4":{start:{line:7,column:8},end:{line:7,column:56}},"5":{start:{line:9,column:8},end:{line:17,column:9}},"6":{start:{line:10,column:31},end:{line:10,column:69}},"7":{start:{line:11,column:12},end:{line:11,column:34}},"8":{start:{line:12,column:12},end:{line:14,column:13}},"9":{start:{line:13,column:16},end:{line:13,column:30}},"10":{start:{line:16,column:12},end:{line:16,column:44}},"11":{start:{line:21,column:0},end:{line:21,column:35}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:22},end:{line:3,column:23}},loc:{start:{line:3,column:42},end:{line:19,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:18,column:5}},{start:{line:6,column:4},end:{line:18,column:5}}],line:6},"1":{loc:{start:{line:12,column:12},end:{line:14,column:13}},type:"if",locations:[{start:{line:12,column:12},end:{line:14,column:13}},{start:{line:12,column:12},end:{line:14,column:13}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b08b2b0f550e09ad6100c22d4eb31fc5fb02e4a5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1uy5fkh5f7=function(){return actualCoverage;};}return actualCoverage;}cov_1uy5fkh5f7();const{verify}=(cov_1uy5fkh5f7().s[0]++,require("jsonwebtoken"));cov_1uy5fkh5f7().s[1]++;const validateToken=(req,res,next)=>{cov_1uy5fkh5f7().f[0]++;const accessToken=(cov_1uy5fkh5f7().s[2]++,req.header("accessToken"));cov_1uy5fkh5f7().s[3]++;if(!accessToken){cov_1uy5fkh5f7().b[0][0]++;cov_1uy5fkh5f7().s[4]++;return res.json({error:"User not logged in!"});}else{cov_1uy5fkh5f7().b[0][1]++;cov_1uy5fkh5f7().s[5]++;try{const validToken=(cov_1uy5fkh5f7().s[6]++,verify(accessToken,"importantsecret"));cov_1uy5fkh5f7().s[7]++;req.user=validToken;cov_1uy5fkh5f7().s[8]++;if(validToken){cov_1uy5fkh5f7().b[1][0]++;cov_1uy5fkh5f7().s[9]++;return next();}else{cov_1uy5fkh5f7().b[1][1]++;}}catch(err){cov_1uy5fkh5f7().s[10]++;return res.json({error:err});}}};cov_1uy5fkh5f7().s[11]++;module.exports={validateToken};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbInZlcmlmeSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImFjY2Vzc1Rva2VuIiwiaGVhZGVyIiwianNvbiIsImVycm9yIiwidmFsaWRUb2tlbiIsInVzZXIiLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiaTREQWVZOzJGQWZaLEtBQU0sQ0FBRUEsTUFBRiwyQkFBYUMsT0FBTyxDQUFDLGNBQUQsQ0FBcEIsQ0FBTixDLHdCQUVBLEtBQU1DLENBQUFBLGFBQWEsQ0FBRyxDQUFDQyxHQUFELENBQU1DLEdBQU4sQ0FBV0MsSUFBWCxHQUFvQix5QkFDdEMsS0FBTUMsQ0FBQUEsV0FBVywwQkFBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsYUFBWCxDQUFILENBQWpCLENBRHNDLHdCQUd0QyxHQUFHLENBQUNELFdBQUosQ0FBaUIsb0RBQ2IsTUFBT0YsQ0FBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVMsQ0FBQ0MsS0FBSyxDQUFFLHFCQUFSLENBQVQsQ0FBUCxDQUNILENBRkQsSUFFTyxvREFDSCxHQUFJLENBQ0EsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR1YsTUFBTSxDQUFDTSxXQUFELENBQWMsaUJBQWQsQ0FBVCxDQUFoQixDQURBLHdCQUVBSCxHQUFHLENBQUNRLElBQUosQ0FBV0QsVUFBWCxDQUZBLHdCQUdBLEdBQUlBLFVBQUosQ0FBZ0Isb0RBQ1osTUFBT0wsQ0FBQUEsSUFBSSxFQUFYLENBQ0gsQ0FGRCxpQ0FHSCxDQUFDLE1BQU9PLEdBQVAsQ0FBWSwwQkFDVixNQUFPUixDQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBUyxDQUFFQyxLQUFLLENBQUVHLEdBQVQsQ0FBVCxDQUFQLENBQ0gsQ0FDSixDQUNKLENBaEJELEMseUJBa0JBQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBRVosYUFBRixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgdmVyaWZ5IH0gPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5cclxuY29uc3QgdmFsaWRhdGVUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSByZXEuaGVhZGVyKFwiYWNjZXNzVG9rZW5cIik7XHJcblxyXG4gICAgaWYoIWFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtlcnJvcjogXCJVc2VyIG5vdCBsb2dnZWQgaW4hXCJ9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsaWRUb2tlbiA9IHZlcmlmeShhY2Nlc3NUb2tlbiwgXCJpbXBvcnRhbnRzZWNyZXRcIik7XHJcbiAgICAgICAgICAgIHJlcS51c2VyID0gdmFsaWRUb2tlbjtcclxuICAgICAgICAgICAgaWYgKHZhbGlkVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6IGVyciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgdmFsaWRhdGVUb2tlbiB9O1xyXG4iXX0=