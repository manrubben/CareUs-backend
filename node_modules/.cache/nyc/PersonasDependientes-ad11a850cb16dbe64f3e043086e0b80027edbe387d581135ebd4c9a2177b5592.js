function cov_jo1bqzu79(){var path="C:\\Users\\Manu\\IdeaProjects\\TFG\\server\\routes\\PersonasDependientes.js";var hash="37b450b5e6b91bc340c8b56d898b2d10369486e9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Manu\\IdeaProjects\\TFG\\server\\routes\\PersonasDependientes.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:15},end:{line:2,column:31}},"2":{start:{line:3,column:57},end:{line:3,column:77}},"3":{start:{line:4,column:18},end:{line:4,column:38}},"4":{start:{line:5,column:26},end:{line:5,column:66}},"5":{start:{line:9,column:0},end:{line:14,column:2}},"6":{start:{line:10,column:39},end:{line:12,column:6}},"7":{start:{line:13,column:4},end:{line:13,column:41}},"8":{start:{line:19,column:0},end:{line:28,column:2}},"9":{start:{line:20,column:15},end:{line:20,column:28}},"10":{start:{line:21,column:31},end:{line:21,column:70}},"11":{start:{line:23,column:4},end:{line:27,column:5}},"12":{start:{line:24,column:8},end:{line:24,column:43}},"13":{start:{line:26,column:8},end:{line:26,column:79}},"14":{start:{line:32,column:0},end:{line:52,column:3}},"15":{start:{line:33,column:110},end:{line:33,column:118}},"16":{start:{line:34,column:4},end:{line:49,column:5}},"17":{start:{line:35,column:8},end:{line:43,column:11}},"18":{start:{line:46,column:8},end:{line:48,column:9}},"19":{start:{line:47,column:12},end:{line:47,column:30}},"20":{start:{line:50,column:4},end:{line:50,column:31}},"21":{start:{line:56,column:0},end:{line:87,column:2}},"22":{start:{line:57,column:110},end:{line:57,column:118}},"23":{start:{line:58,column:15},end:{line:58,column:28}},"24":{start:{line:60,column:31},end:{line:60,column:70}},"25":{start:{line:62,column:4},end:{line:84,column:5}},"26":{start:{line:63,column:8},end:{line:80,column:9}},"27":{start:{line:64,column:12},end:{line:75,column:13}},"28":{start:{line:77,column:12},end:{line:79,column:13}},"29":{start:{line:78,column:16},end:{line:78,column:34}},"30":{start:{line:81,column:8},end:{line:81,column:35}},"31":{start:{line:83,column:8},end:{line:83,column:79}},"32":{start:{line:91,column:0},end:{line:112,column:2}},"33":{start:{line:92,column:15},end:{line:92,column:28}},"34":{start:{line:94,column:31},end:{line:94,column:70}},"35":{start:{line:96,column:4},end:{line:109,column:5}},"36":{start:{line:97,column:8},end:{line:99,column:10}},"37":{start:{line:101,column:8},end:{line:105,column:10}},"38":{start:{line:106,column:8},end:{line:106,column:48}},"39":{start:{line:108,column:8},end:{line:108,column:79}},"40":{start:{line:116,column:0},end:{line:129,column:2}},"41":{start:{line:117,column:15},end:{line:117,column:26}},"42":{start:{line:118,column:17},end:{line:118,column:19}},"43":{start:{line:119,column:39},end:{line:123,column:6}},"44":{start:{line:124,column:5},end:{line:127,column:6}},"45":{start:{line:125,column:40},end:{line:125,column:116}},"46":{start:{line:126,column:12},end:{line:126,column:44}},"47":{start:{line:128,column:4},end:{line:128,column:21}},"48":{start:{line:133,column:0},end:{line:146,column:2}},"49":{start:{line:134,column:15},end:{line:134,column:28}},"50":{start:{line:135,column:17},end:{line:135,column:19}},"51":{start:{line:136,column:39},end:{line:140,column:6}},"52":{start:{line:141,column:5},end:{line:144,column:6}},"53":{start:{line:142,column:40},end:{line:142,column:116}},"54":{start:{line:143,column:12},end:{line:143,column:44}},"55":{start:{line:145,column:4},end:{line:145,column:21}},"56":{start:{line:149,column:0},end:{line:149,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:31},end:{line:9,column:32}},loc:{start:{line:9,column:51},end:{line:14,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:39},end:{line:19,column:40}},loc:{start:{line:19,column:59},end:{line:28,column:1}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:32,column:38},end:{line:32,column:39}},loc:{start:{line:32,column:58},end:{line:52,column:1}},line:32},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:39},end:{line:56,column:40}},loc:{start:{line:56,column:59},end:{line:87,column:1}},line:56},"4":{name:"(anonymous_4)",decl:{start:{line:91,column:44},end:{line:91,column:45}},loc:{start:{line:91,column:64},end:{line:112,column:1}},line:91},"5":{name:"(anonymous_5)",decl:{start:{line:116,column:48},end:{line:116,column:49}},loc:{start:{line:116,column:68},end:{line:129,column:1}},line:116},"6":{name:"(anonymous_6)",decl:{start:{line:133,column:52},end:{line:133,column:53}},loc:{start:{line:133,column:72},end:{line:146,column:1}},line:133}},branchMap:{"0":{loc:{start:{line:23,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:27,column:5}},{start:{line:23,column:4},end:{line:27,column:5}}],line:23},"1":{loc:{start:{line:46,column:8},end:{line:48,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:48,column:9}},{start:{line:46,column:8},end:{line:48,column:9}}],line:46},"2":{loc:{start:{line:62,column:4},end:{line:84,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:84,column:5}},{start:{line:62,column:4},end:{line:84,column:5}}],line:62},"3":{loc:{start:{line:77,column:12},end:{line:79,column:13}},type:"if",locations:[{start:{line:77,column:12},end:{line:79,column:13}},{start:{line:77,column:12},end:{line:79,column:13}}],line:77},"4":{loc:{start:{line:96,column:4},end:{line:109,column:5}},type:"if",locations:[{start:{line:96,column:4},end:{line:109,column:5}},{start:{line:96,column:4},end:{line:109,column:5}}],line:96}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37b450b5e6b91bc340c8b56d898b2d10369486e9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_jo1bqzu79=function(){return actualCoverage;};}return actualCoverage;}cov_jo1bqzu79();const express=(cov_jo1bqzu79().s[0]++,require("express"));const router=(cov_jo1bqzu79().s[1]++,express.Router());const{PersonasDependientes,UserPersonaDependiente}=(cov_jo1bqzu79().s[2]++,require("../models"));const{Users}=(cov_jo1bqzu79().s[3]++,require("../models"));const{validateToken}=(cov_jo1bqzu79().s[4]++,require("../middlewares/AuthMiddleware"));//Listar personas dependientes
cov_jo1bqzu79().s[5]++;router.get("/",validateToken,async(req,res)=>{cov_jo1bqzu79().f[0]++;const listOfPersonasDependientes=(cov_jo1bqzu79().s[6]++,await PersonasDependientes.findAll({}));cov_jo1bqzu79().s[7]++;res.json(listOfPersonasDependientes);});//Mostrar los detalles de una persona dependiente
cov_jo1bqzu79().s[8]++;router.get("/show/:id",validateToken,async(req,res)=>{cov_jo1bqzu79().f[1]++;const id=(cov_jo1bqzu79().s[9]++,req.params.id);const personaDependiente=(cov_jo1bqzu79().s[10]++,await PersonasDependientes.findByPk(id));cov_jo1bqzu79().s[11]++;if(personaDependiente){cov_jo1bqzu79().b[0][0]++;cov_jo1bqzu79().s[12]++;return res.json(personaDependiente);}else{cov_jo1bqzu79().b[0][1]++;cov_jo1bqzu79().s[13]++;return res.json({error:"There is no personaDependiente with this id"});}});//Registrar una persona dependiente
cov_jo1bqzu79().s[14]++;router.post("/create",validateToken,async(req,res)=>{cov_jo1bqzu79().f[2]++;const{nombre,apellidos,enfermedad,gradoDeDependencia,pastillasDia,pastillasTarde,pastillasNoche}=(cov_jo1bqzu79().s[15]++,req.body);cov_jo1bqzu79().s[16]++;try{cov_jo1bqzu79().s[17]++;await PersonasDependientes.create({nombre:nombre,apellidos:apellidos,enfermedad:enfermedad,gradoDeDependencia:gradoDeDependencia,pastillasDia:pastillasDia,pastillasTarde:pastillasTarde,pastillasNoche:pastillasNoche});}catch(e){cov_jo1bqzu79().s[18]++;if(e){cov_jo1bqzu79().b[1][0]++;cov_jo1bqzu79().s[19]++;return res.json(e);}else{cov_jo1bqzu79().b[1][1]++;}}cov_jo1bqzu79().s[20]++;return res.json("SUCCESS");});//Editar los datos de una persona dependiente
cov_jo1bqzu79().s[21]++;router.put("/edit/:id",validateToken,async(req,res)=>{cov_jo1bqzu79().f[3]++;const{nombre,apellidos,enfermedad,gradoDeDependencia,pastillasDia,pastillasTarde,pastillasNoche}=(cov_jo1bqzu79().s[22]++,req.body);const id=(cov_jo1bqzu79().s[23]++,req.params.id);const personaDependiente=(cov_jo1bqzu79().s[24]++,await PersonasDependientes.findByPk(id));cov_jo1bqzu79().s[25]++;if(personaDependiente){cov_jo1bqzu79().b[2][0]++;cov_jo1bqzu79().s[26]++;try{cov_jo1bqzu79().s[27]++;await PersonasDependientes.update({nombre:nombre,apellidos:apellidos,enfermedad:enfermedad,gradoDeDependencia:gradoDeDependencia,pastillasDia:pastillasDia,pastillasTarde:pastillasTarde,pastillasNoche:pastillasNoche},{where:{id:id}});}catch(e){cov_jo1bqzu79().s[28]++;if(e){cov_jo1bqzu79().b[3][0]++;cov_jo1bqzu79().s[29]++;return res.json(e);}else{cov_jo1bqzu79().b[3][1]++;}}cov_jo1bqzu79().s[30]++;return res.json("SUCCESS");}else{cov_jo1bqzu79().b[2][1]++;cov_jo1bqzu79().s[31]++;return res.json({error:"There is no personaDependiente with this id"});}});//Eliminar una persona dependiente
cov_jo1bqzu79().s[32]++;router.delete("/delete/:id",validateToken,async(req,res)=>{cov_jo1bqzu79().f[4]++;const id=(cov_jo1bqzu79().s[33]++,req.params.id);const personaDependiente=(cov_jo1bqzu79().s[34]++,await PersonasDependientes.findByPk(id));cov_jo1bqzu79().s[35]++;if(personaDependiente){cov_jo1bqzu79().b[4][0]++;cov_jo1bqzu79().s[36]++;await UserPersonaDependiente.destroy({where:{personaDependienteId:id}});cov_jo1bqzu79().s[37]++;await PersonasDependientes.destroy({where:{id:id}});cov_jo1bqzu79().s[38]++;return res.json("DELETED SUCCESSFULLY");}else{cov_jo1bqzu79().b[4][1]++;cov_jo1bqzu79().s[39]++;return res.json({error:"There is no personaDependiente with this id"});}});//Listar personas dependientes asociadas
cov_jo1bqzu79().s[40]++;router.get("/personasAsignadas",validateToken,async(req,res)=>{cov_jo1bqzu79().f[5]++;const id=(cov_jo1bqzu79().s[41]++,req.user.id);let lista2=(cov_jo1bqzu79().s[42]++,[]);const listOfPersonasDependientes=(cov_jo1bqzu79().s[43]++,await UserPersonaDependiente.findAll({where:{userId:id}}));cov_jo1bqzu79().s[44]++;for(const personaDependiente of listOfPersonasDependientes){const personaDependiente2=(cov_jo1bqzu79().s[45]++,await PersonasDependientes.findByPk(personaDependiente.personaDependienteId));cov_jo1bqzu79().s[46]++;lista2.push(personaDependiente2);}cov_jo1bqzu79().s[47]++;res.json(lista2);});//Listar personas dependientes asociadas
cov_jo1bqzu79().s[48]++;router.get("/personasAsignadas/:id",validateToken,async(req,res)=>{cov_jo1bqzu79().f[6]++;const id=(cov_jo1bqzu79().s[49]++,req.params.id);let lista2=(cov_jo1bqzu79().s[50]++,[]);const listOfPersonasDependientes=(cov_jo1bqzu79().s[51]++,await UserPersonaDependiente.findAll({where:{userId:id}}));cov_jo1bqzu79().s[52]++;for(const personaDependiente of listOfPersonasDependientes){const personaDependiente2=(cov_jo1bqzu79().s[53]++,await PersonasDependientes.findByPk(personaDependiente.personaDependienteId));cov_jo1bqzu79().s[54]++;lista2.push(personaDependiente2);}cov_jo1bqzu79().s[55]++;res.json(lista2);});cov_jo1bqzu79().s[56]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBlcnNvbmFzRGVwZW5kaWVudGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiUGVyc29uYXNEZXBlbmRpZW50ZXMiLCJVc2VyUGVyc29uYURlcGVuZGllbnRlIiwiVXNlcnMiLCJ2YWxpZGF0ZVRva2VuIiwiZ2V0IiwicmVxIiwicmVzIiwibGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMiLCJmaW5kQWxsIiwianNvbiIsImlkIiwicGFyYW1zIiwicGVyc29uYURlcGVuZGllbnRlIiwiZmluZEJ5UGsiLCJlcnJvciIsInBvc3QiLCJub21icmUiLCJhcGVsbGlkb3MiLCJlbmZlcm1lZGFkIiwiZ3JhZG9EZURlcGVuZGVuY2lhIiwicGFzdGlsbGFzRGlhIiwicGFzdGlsbGFzVGFyZGUiLCJwYXN0aWxsYXNOb2NoZSIsImJvZHkiLCJjcmVhdGUiLCJlIiwicHV0IiwidXBkYXRlIiwid2hlcmUiLCJkZWxldGUiLCJkZXN0cm95IiwicGVyc29uYURlcGVuZGllbnRlSWQiLCJ1c2VyIiwibGlzdGEyIiwidXNlcklkIiwicGVyc29uYURlcGVuZGllbnRlMiIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoid3NNQWVZO3lGQWZaLEtBQU1BLENBQUFBLE9BQU8seUJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVYsQ0FBYixDQUNBLEtBQU1DLENBQUFBLE1BQU0seUJBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFILENBQVosQ0FDQSxLQUFNLENBQUVDLG9CQUFGLENBQXdCQyxzQkFBeEIsMEJBQW1ESixPQUFPLENBQUMsV0FBRCxDQUExRCxDQUFOLENBQ0EsS0FBTSxDQUFFSyxLQUFGLDBCQUFZTCxPQUFPLENBQUMsV0FBRCxDQUFuQixDQUFOLENBQ0EsS0FBTSxDQUFFTSxhQUFGLDBCQUFvQk4sT0FBTyxDQUFDLCtCQUFELENBQTNCLENBQU4sQ0FHQTt1QkFDQUMsTUFBTSxDQUFDTSxHQUFQLENBQVcs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dUIsQ0FBQUEsTUFBTSwwQkFBRyxFQUFILENBQVYsQ0FDQSxLQUFNMUIsQ0FBQUEsMEJBQTBCLDBCQUFHLEtBQU1OLENBQUFBLHNCQUFzQixDQUFDTyxPQUF2QixDQUErQixDQUNwRW9CLEtBQUssQ0FBRSxDQUNLTSxNQUFNLENBQUV4QixFQURiLENBRDZELENBQS9CLENBQVQsQ0FBaEMsQ0FIb0Usd0JBUW5FLElBQUksS0FBTUUsQ0FBQUEsa0JBQVYsR0FBZ0NMLENBQUFBLDBCQUFoQyxDQUE0RCxDQUNyRCxLQUFNNEIsQ0FBQUEsbUJBQW1CLDBCQUFHLEtBQU1uQyxDQUFBQSxvQkFBb0IsQ0FBQ2EsUUFBckIsQ0FBOEJELGtCQUFrQixDQUFDbUIsb0JBQWpELENBQVQsQ0FBekIsQ0FEcUQsd0JBRXJERSxNQUFNLENBQUNHLElBQVAsQ0FBWUQsbUJBQVosRUFDTixDQVhrRSx3QkFZcEU3QixHQUFHLENBQUNHLElBQUosQ0FBU3dCLE1BQVQsRUFDSCxDQWJELEUsd0JBZ0JBSSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJ4QyxNQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyBQZXJzb25hc0RlcGVuZGllbnRlcywgVXNlclBlcnNvbmFEZXBlbmRpZW50ZSB9ID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcclxuY29uc3QgeyBVc2VycyB9ID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcclxuY29uc3QgeyB2YWxpZGF0ZVRva2VuIH0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvQXV0aE1pZGRsZXdhcmVcIik7XHJcblxyXG5cclxuLy9MaXN0YXIgcGVyc29uYXMgZGVwZW5kaWVudGVzXHJcbnJvdXRlci5nZXQoXCIvXCIsIHZhbGlkYXRlVG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgbGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMgPSBhd2FpdCBQZXJzb25hc0RlcGVuZGllbnRlcy5maW5kQWxsKHtcclxuXHJcbiAgICB9KVxyXG4gICAgcmVzLmpzb24obGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMpO1xyXG59KVxyXG5cclxuXHJcblxyXG4vL01vc3RyYXIgbG9zIGRldGFsbGVzIGRlIHVuYSBwZXJzb25hIGRlcGVuZGllbnRlXHJcbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIiwgdmFsaWRhdGVUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBwZXJzb25hRGVwZW5kaWVudGUgPSBhd2FpdCBQZXJzb25hc0RlcGVuZGllbnRlcy5maW5kQnlQayhpZCk7XHJcblxyXG4gICAgaWYocGVyc29uYURlcGVuZGllbnRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHBlcnNvbmFEZXBlbmRpZW50ZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtlcnJvcjogXCJUaGVyZSBpcyBubyBwZXJzb25hRGVwZW5kaWVudGUgd2l0aCB0aGlzIGlkXCJ9KVxyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcbi8vUmVnaXN0cmFyIHVuYSBwZXJzb25hIGRlcGVuZGllbnRlXHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0ZVwiLCB2YWxpZGF0ZVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtub21icmUsIGFwZWxsaWRvcywgZW5mZXJtZWRhZCwgZ3JhZG9EZURlcGVuZGVuY2lhLCBwYXN0aWxsYXNEaWEsIHBhc3RpbGxhc1RhcmRlLCBwYXN0aWxsYXNOb2NoZX0gPSByZXEuYm9keTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgUGVyc29uYXNEZXBlbmRpZW50ZXMuY3JlYXRlKHtcclxuICAgICAgICAgICAgbm9tYnJlOiBub21icmUsXHJcbiAgICAgICAgICAgIGFwZWxsaWRvczogYXBlbGxpZG9zLFxyXG4gICAgICAgICAgICBlbmZlcm1lZGFkOiBlbmZlcm1lZGFkLFxyXG4gICAgICAgICAgICBncmFkb0RlRGVwZW5kZW5jaWE6IGdyYWRvRGVEZXBlbmRlbmNpYSxcclxuICAgICAgICAgICAgcGFzdGlsbGFzRGlhOiBwYXN0aWxsYXNEaWEsXHJcbiAgICAgICAgICAgIHBhc3RpbGxhc1RhcmRlOiBwYXN0aWxsYXNUYXJkZSxcclxuICAgICAgICAgICAgcGFzdGlsbGFzTm9jaGU6IHBhc3RpbGxhc05vY2hlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZihlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXMuanNvbihcIlNVQ0NFU1NcIik7XHJcblxyXG59KTtcclxuXHJcblxyXG4vL0VkaXRhciBsb3MgZGF0b3MgZGUgdW5hIHBlcnNvbmEgZGVwZW5kaWVudGVcclxucm91dGVyLnB1dChcIi9lZGl0LzppZFwiLCB2YWxpZGF0ZVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtub21icmUsIGFwZWxsaWRvcywgZW5mZXJtZWRhZCwgZ3JhZG9EZURlcGVuZGVuY2lhLCBwYXN0aWxsYXNEaWEsIHBhc3RpbGxhc1RhcmRlLCBwYXN0aWxsYXNOb2NoZX0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICBjb25zdCBwZXJzb25hRGVwZW5kaWVudGUgPSBhd2FpdCBQZXJzb25hc0RlcGVuZGllbnRlcy5maW5kQnlQayhpZCk7XHJcblxyXG4gICAgaWYocGVyc29uYURlcGVuZGllbnRlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgUGVyc29uYXNEZXBlbmRpZW50ZXMudXBkYXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbWJyZTogbm9tYnJlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwZWxsaWRvczogYXBlbGxpZG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZmVybWVkYWQ6IGVuZmVybWVkYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhZG9EZURlcGVuZGVuY2lhOiBncmFkb0RlRGVwZW5kZW5jaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzdGlsbGFzRGlhOiBwYXN0aWxsYXNEaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzdGlsbGFzVGFyZGU6IHBhc3RpbGxhc1RhcmRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3RpbGxhc05vY2hlOiBwYXN0aWxsYXNOb2NoZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHt3aGVyZToge2lkOiBpZH19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbihlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuanNvbihcIlNVQ0NFU1NcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7ZXJyb3I6IFwiVGhlcmUgaXMgbm8gcGVyc29uYURlcGVuZGllbnRlIHdpdGggdGhpcyBpZFwifSlcclxuICAgIH1cclxuXHJcblxyXG59KVxyXG5cclxuXHJcbi8vRWxpbWluYXIgdW5hIHBlcnNvbmEgZGVwZW5kaWVudGVcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsIHZhbGlkYXRlVG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgIGNvbnN0IHBlcnNvbmFEZXBlbmRpZW50ZSA9IGF3YWl0IFBlcnNvbmFzRGVwZW5kaWVudGVzLmZpbmRCeVBrKGlkKVxyXG5cclxuICAgIGlmKHBlcnNvbmFEZXBlbmRpZW50ZSkge1xyXG4gICAgICAgIGF3YWl0IFVzZXJQZXJzb25hRGVwZW5kaWVudGUuZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7cGVyc29uYURlcGVuZGllbnRlSWQ6IGlkfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGF3YWl0IFBlcnNvbmFzRGVwZW5kaWVudGVzLmRlc3Ryb3koe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiByZXMuanNvbihcIkRFTEVURUQgU1VDQ0VTU0ZVTExZXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oe2Vycm9yOiBcIlRoZXJlIGlzIG5vIHBlcnNvbmFEZXBlbmRpZW50ZSB3aXRoIHRoaXMgaWRcIn0pXHJcbiAgICB9XHJcblxyXG5cclxufSlcclxuXHJcblxyXG4vL0xpc3RhciBwZXJzb25hcyBkZXBlbmRpZW50ZXMgYXNvY2lhZGFzXHJcbnJvdXRlci5nZXQoXCIvcGVyc29uYXNBc2lnbmFkYXNcIiwgdmFsaWRhdGVUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS51c2VyLmlkO1xyXG4gICAgbGV0IGxpc3RhMiA9IFtdO1xyXG4gICAgY29uc3QgbGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMgPSBhd2FpdCBVc2VyUGVyc29uYURlcGVuZGllbnRlLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBpZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgIGZvcihjb25zdCBwZXJzb25hRGVwZW5kaWVudGUgb2YgbGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcGVyc29uYURlcGVuZGllbnRlMiA9IGF3YWl0IFBlcnNvbmFzRGVwZW5kaWVudGVzLmZpbmRCeVBrKHBlcnNvbmFEZXBlbmRpZW50ZS5wZXJzb25hRGVwZW5kaWVudGVJZCk7XHJcbiAgICAgICAgICAgIGxpc3RhMi5wdXNoKHBlcnNvbmFEZXBlbmRpZW50ZTIpXHJcbiAgICAgfVxyXG4gICAgcmVzLmpzb24obGlzdGEyKTtcclxufSlcclxuXHJcblxyXG4vL0xpc3RhciBwZXJzb25hcyBkZXBlbmRpZW50ZXMgYXNvY2lhZGFzXHJcbnJvdXRlci5nZXQoXCIvcGVyc29uYXNBc2lnbmFkYXMvOmlkXCIsIHZhbGlkYXRlVG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgbGV0IGxpc3RhMiA9IFtdO1xyXG4gICAgY29uc3QgbGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMgPSBhd2FpdCBVc2VyUGVyc29uYURlcGVuZGllbnRlLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBpZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgIGZvcihjb25zdCBwZXJzb25hRGVwZW5kaWVudGUgb2YgbGlzdE9mUGVyc29uYXNEZXBlbmRpZW50ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcGVyc29uYURlcGVuZGllbnRlMiA9IGF3YWl0IFBlcnNvbmFzRGVwZW5kaWVudGVzLmZpbmRCeVBrKHBlcnNvbmFEZXBlbmRpZW50ZS5wZXJzb25hRGVwZW5kaWVudGVJZCk7XHJcbiAgICAgICAgICAgIGxpc3RhMi5wdXNoKHBlcnNvbmFEZXBlbmRpZW50ZTIpXHJcbiAgICAgfVxyXG4gICAgcmVzLmpzb24obGlzdGEyKTtcclxufSlcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl19